var list=document.getElementById("list"),addBtn=document.getElementById("addBtn"),toggleTodaysQuoteBtn=document.getElementById("toggleTodaysQuoteBtn"),todaysQuoteSection=document.getElementById("todaysQuoteSection"),statusModalBtn=document.getElementById("statusModalBtn"),statusModalAlert=document.getElementById("statusModalAlert"),orderBy="id",ascOrDesc="DESC";function init(){getTodaysQuote(),updateList()}function showStatusModal(t,e){statusModalAlert.innerHTML=t,statusModalAlert.setAttribute("class",e),statusModalBtn.click()}function getTodaysQuote(){console.log("getting todays quote..."),xhttp=new XMLHttpRequest,xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&("queryError"==this.responseText?showStatusModal("Can't fetch today's quote!","alert alert-danger"):todaysQuoteSection.querySelector(".content").innerHTML=this.responseText)},xhttp.open("GET","x-quote-handler.php?action=getTodaysQuote",!0),xhttp.send()}function updateList(){console.log("list updating..."),xhttp=new XMLHttpRequest,xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&(list.innerHTML=this.responseText,$('[data-toggle="tooltip"]').tooltip())},xhttp.open("GET","x-quote-handler.php?action=updateList&orderBy="+orderBy+"&ascOrDesc="+ascOrDesc,!0),xhttp.send()}function add(){console.log("adding...");var t=quoteInput.value,e=authorInput.value;xhttp=new XMLHttpRequest,xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&("emptyFields"==this.responseText?showStatusModal("one ore more fields are empty!","alert alert-danger"):"alreadyExist"==this.responseText?showStatusModal("Already Exist","alert alert-warning"):"queryError"==this.responseText?showStatusModal("Query Error!","alert alert-danger"):(list.innerHTML=this.responseText,quoteInput.value=authorInput.value="",showStatusModal("Successfully Added!","alert alert-success")))},xhttp.open("POST","x-quote-handler.php",!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("action=add&quoteInputValue="+t+"&authorInputValue="+e+"&orderBy="+orderBy+"&ascOrDesc="+ascOrDesc)}function listBtnFunction(t){var e=t.target.dataset.action,s=t.target.closest("tr").dataset.id;if("set"==e)console.log("setting today's quote...",s),xhttp=new XMLHttpRequest,xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&("queryError"==this.responseText?showStatusModal("Query Error!","alert alert-danger"):(getTodaysQuote(),showStatusModal("Today's quote udpated!","alert alert-success")))},xhttp.open("POST","x-quote-handler.php",!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("action=setTodaysQuote&id="+s);else if("delete"==e){console.log("deleting...",s),xhttp=new XMLHttpRequest,xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&("queryError"==this.responseText?showStatusModal("Query Error!","alert alert-danger"):(list.innerHTML=this.responseText,showStatusModal("Successfully Deleted!","alert alert-success")))},confirm("Want to delete?")?(xhttp.open("POST","x-quote-handler.php",!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("action=delete&id="+s+"&orderBy="+orderBy+"&ascOrDesc="+ascOrDesc)):console.log("Deletion is stopped!")}}addBtn.addEventListener("click",add,!1),toggleTodaysQuoteBtn.addEventListener("click",()=>{todaysQuoteSection.classList.toggle("d-none")},!1),list.addEventListener("click",listBtnFunction,!1),init();
//# sourceMappingURL=x-quote.min.js.map
