var xhttp=null,isEditing=!1;function individualOperations(e){if(e.stopPropagation(),"deleteBtn"!=e.target.id||isEditing)if("editBtn"!=e.target.id||isEditing){if("cancelBtn"==e.target.id&&isEditing){isEditing=!1;var t=e.target.dataset.id;console.log("cancelling: "+t),fetchCategories()}else if("submitClass"==e.target.id&&isEditing){var i=e.target.dataset.classId;console.log("submitting: "+i);var n=document.getElementById("editingDate").value,a=document.getElementById("editingClass").value,s=document.getElementById("editingInstructors").value,o=document.getElementById("editingStartTime").value,d=document.getElementById("editingEndTime").value,r=document.getElementById("editingRoom").value,l=new XMLHttpRequest;l.onreadystatechange=function(){4==this.readyState&&200==this.status&&(timetableResultList.innerHTML=this.responseText,isEditing=!1)},l.open("POST","timetable_handler.php",!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send("action=submitClass&batchCode="+batchCode+"&batchTemplate="+batchTemplate+"&orderBy="+orderBy+"&ascOrDesc="+ascOrDesc+"&date="+n+"&classCode="+a+"&instructorCode="+s+"&startTime="+o+"&endTime="+d+"&roomCode="+r+"&submitId="+i)}}else{isEditing=!0;var c=e.target.dataset.id;console.log("editing: "+c);var g=e.target.parentNode.parentNode,u=g.querySelector(".code"),p=g.querySelector(".name"),h=u.innerHTML,m=p.innerHTML;g.classList.add("editing-class"),u.innerHTML='<input type="text" class="form-control" id="newCode" value="'+h+'">',p.innerHTML='<input type="text" class="form-control" id="newName" value="'+m+'">'}else{var f=e.target.dataset.id;console.log("deleting: "+f),(xhttp=new XMLHttpRequest).onreadystatechange=function(){4==this.readyState&&200==this.status&&(categoriesListContainer.innerHTML=this.responseText)},confirm("Want to delete?")?(xhttp.open("POST","categories_handler.php",!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("action=delete&deleteId="+f)):console.log("Deletion is stopped!")}}function fetchCategories(){console.log("fetching categories list..."),(xhttp=new XMLHttpRequest).onreadystatechange=function(){4==this.readyState&&200==this.status&&(categoriesListContainer.innerHTML=this.responseText)},xhttp.open("GET","categories_handler.php?action=fetchCategories",!0),xhttp.send(),xhttp=null}function init(){fetchCategories()}init(),categoriesListContainer.addEventListener("click",individualOperations,!1);
//# sourceMappingURL=categories.min.js.map
