let isTypingEnabled,totalTyped,time,totalErrors,totalSuccesses,grossWPM,netWPM,countdown;const str="this is a simple paragraph that is meant to be nice and easy to type which is why there will be mommas no periods or any capital letters so i guess this means that it cannot really be considered a paragraph but just a series of run on sentences this should help you get faster at typing as im trying not to use too many difficult words in it although i think that i might start making it hard by including some more difficult letters I'm typing pretty quickly so forgive me for any mistakes i think that i will not just tell you a story about the time i went to the zoo and found a monkey and a fox playing together they were so cute and i think that they were not supposed to be in the same cage but they somehow were and i loved watching them horse around forgive the pun well i hope that it has been highly enjoyable typing this paragraph and i wish you the best of luck getting the best score that you possibly can.",strArr=str.split(""),timerArea=document.querySelector("#timerArea"),timerDisplay=document.querySelector(".display__time-left"),typingArea=document.querySelector("#typingArea"),toggleTypingBtn=document.querySelector("#toggleTypingBtn"),seekBar=document.querySelector("#seekBar"),totalErrorsEl=document.querySelector("#totalErrors"),totalTypedEl=document.querySelector("#totalTyped"),grossWPMEl=document.querySelector("#grossWPM"),netWPMEl=document.querySelector("#netWPM"),accuracyEl=document.querySelector("#accuracy");var generateText=function(){initialTime=5,totalErrors=0,totalSuccesses=0,totalTyped=0,grossWPM=0,netWPM=0,accuracy=0;let t="";isTypingEnabled=!1,displayTimeLeft(initialTime),strArr.forEach(e=>{t+=`<span class="letter">${e}</span>`}),typingArea.innerHTML=t;let e=document.querySelectorAll("#typingArea span");document.querySelectorAll("#typingArea span")[str.length-1];e[0].classList.add("active")},displayTimeLeft=function(t){seekBar.style.width=(initialTime-t)/initialTime*100+"%";const e=t%60,n=`${Math.floor(t/60)}:${e<10?"0":""}${e}`;timerDisplay.textContent=n},timer=function(t){clearInterval(countdown);const e=Date.now()+1e3*t;displayTimeLeft(t),countdown=setInterval(()=>{const t=Math.round((e-Date.now())/1e3);if(t<0){clearInterval(countdown),grossWPM=Math.round(totalTyped/5/(initialTime/60)),netWPM=Math.round(grossWPM-totalErrors/5/(initialTime/60)),accuracy=0!=totalTyped?parseInt(totalSuccesses/totalTyped*100)+"%":"0%",window.XMLHttpRequest?xmlhttp=new XMLHttpRequest:xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");let t="te="+totalErrors+"&tt="+totalTyped+"&gwpm="+grossWPM+"$nwpm="+netWPM+"&a="+accuracy;return xmlhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&(updateScoreboard(),console.log(this.responseText))},xmlhttp.open("GET","update_scoreboard.php?"+t,!0),void xmlhttp.send()}displayTimeLeft(t)},1e3)},updateScoreboard=function(){totalErrorsEl.innerHTML=totalErrors,totalTypedEl.innerHTML=totalTyped,grossWPMEl.innerHTML=grossWPM,netWPMEl.innerHTML=netWPM,accuracyEl.innerHTML=parseInt(accuracy)},checkTyping=function(t){let e=document.querySelector("#typingArea span.active");isTypingEnabled&&(totalTyped<str.length-1?(totalTyped++,e.classList.add("typed"),e.nextSibling.classList.add("active"),e.innerHTML==t.key?(totalSuccesses++,e.classList.add("success"),e.classList.remove("active")):e.innerHTML!=t.key&&(totalErrors++,e.classList.add("error"),e.classList.remove("active"))):(e.classList.remove("active"),e.innerHTML==t.key?(totalSuccesses++,e.classList.add("success")):e.innerHTML!=t.key&&(totalErrors++,e.classList.add("error")),setTimeout(function(){alert("DONE!")}),generateText(),toggleTypingBtn.classList.remove("active"),toggleTypingBtn.innerHTML="Start Typing Again",document.removeEventListener("keyup",checkTyping,!1)))},startTyping=function(){timer(initialTime),toggleTypingBtn.classList.add("active"),toggleTypingBtn.innerHTML="Stop Typing",document.addEventListener("keyup",checkTyping,!1)},stopTyping=function(){clearInterval(countdown),toggleTypingBtn.classList.remove("active"),toggleTypingBtn.innerHTML="Start Typing",document.removeEventListener("keyup",checkTyping,!1)},toggleTyping=function(t){1==t.detail&&(isTypingEnabled?stopTyping():startTyping(),isTypingEnabled=!isTypingEnabled)};generateText(),toggleTypingBtn.addEventListener("click",toggleTyping,!1),toggleTypingBtn.click();