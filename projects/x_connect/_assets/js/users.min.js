var orderByItems=document.querySelectorAll("[data-order-by]"),selectedBatch=document.getElementById("selectedBatch"),editingUserFlag=!1,batchCode=null,orderBy="doj",ascOrDesc="ASC";function orderUsersBy(e){for(var s=orderBy,t=0;t<orderByItems.length;t++)orderByItems[t].classList.remove("active-ASC"),orderByItems[t].classList.remove("active-DESC");orderBy=e.target.dataset.orderBy,ascOrDesc=s==orderBy?"DESC"==ascOrDesc?"ASC":"DESC":"ASC",e.target.classList.add("active-"+ascOrDesc),console.log("ordering by..."+orderBy,ascOrDesc),updateUsersList()}function updateUsersList(){console.log("users list updating..."),editingUserFlag=!1,batchCode=selectedBatch.value,console.log(batchCode);var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(usersResultList.innerHTML=this.responseText)},e.open("GET","users_handler.php?action=updateUsersList&batchCode="+batchCode+"&orderBy="+orderBy+"&ascOrDesc="+ascOrDesc,!0),e.send()}function init(){updateUsersList()}init();for(var i=0;i<orderByItems.length;i++)orderByItems[i].addEventListener("click",orderUsersBy,!1);