var orderByItems=document.querySelectorAll("[data-order-by]"),selectedBatch=document.getElementById("selectedBatch"),selectedRole=document.getElementById("selectedRole"),selectedGender=document.getElementById("selectedGender"),selectedDOJ=document.getElementById("selectedDOJ"),selectedSearch=document.getElementById("selectedSearch"),editingUserFlag=!1,batchCode=role=gender=null,orderBy="doj",ascOrDesc="ASC";function orderUsersBy(e){for(var t=orderBy,s=0;s<orderByItems.length;s++)orderByItems[s].classList.remove("active-ASC"),orderByItems[s].classList.remove("active-DESC");orderBy=e.target.dataset.orderBy,ascOrDesc=t==orderBy?"DESC"==ascOrDesc?"ASC":"DESC":"ASC",e.target.classList.add("active-"+ascOrDesc),console.log("ordering by..."+orderBy,ascOrDesc),updateUsersList()}function updateUsersList(){console.log("users list updating..."),editingUserFlag=!1,batchCode=selectedBatch.value,role=selectedRole.value,gender=selectedGender.value,doj=selectedDOJ.value,search=selectedSearch.value;var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(usersResultList.innerHTML=this.responseText)},e.open("GET","users_handler.php?action=updateUsersList&batchCode="+batchCode+"&role="+role+"&gender="+gender+"&orderBy="+orderBy+"&doj="+doj+"&search="+search+"&ascOrDesc="+ascOrDesc,!0),e.send()}function init(){updateUsersList()}init(),selectedBatch.addEventListener("change",updateUsersList,!1),selectedRole.addEventListener("change",updateUsersList,!1),selectedGender.addEventListener("change",updateUsersList,!1),selectedDOJ.addEventListener("change",updateUsersList,!1),selectedSearch.addEventListener("keyup",updateUsersList,!1);for(var i=0;i<orderByItems.length;i++)orderByItems[i].addEventListener("click",orderUsersBy,!1);