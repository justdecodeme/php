console.log("js is working");var selectedBatch=document.getElementById("selectedBatch"),addClassBtn=document.getElementById("addClassBtn"),timetableResult=document.getElementById("timetableResult"),statusBar=document.getElementById("statusBar"),xhttp=new XMLHttpRequest;function updateTimeTable(){console.log("changed");var e=selectedBatch.value;xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&(timetableResult.innerHTML=this.responseText)},xhttp.open("GET","handler_timetable.php?action=updateTimeTable&batchId="+e,!0),xhttp.send()}function addClass(){console.log("clicked");var e=document.getElementById("selectedBatch").value,t=document.getElementById("selectedDate").value,a=document.getElementById("selectedClass").value,d=document.getElementById("selectedInstructor").value,n=document.getElementById("selectedStartTime").value,s=document.getElementById("selectedEndTime").value,l=document.getElementById("selectedRoom").value;console.log(e,t,a,d,n,s,l),xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&(timetableResult.innerHTML=this.responseText)},xhttp.open("POST","handler_timetable.php",!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("action=addClass&batchCode="+e+"&date="+t+"&className="+a+"&instructorCode="+d+"&startTime="+n+"&endTime="+s+"&room="+l)}selectedBatch.addEventListener("change",updateTimeTable,!1),addClassBtn.addEventListener("click",addClass,!1),updateTimeTable(selectedBatch);